计算题例题
==========
可能考到的计算题
##寻址范围计算题
计算机字长64位，存储容量为1MB，若按**半字**编址，它事务寻址范围是（256K）

字长=64bit=8B；半字长=4B  
寻址范围 = 存储容量 / 半字长 = 1MB / 4B = 1024KB / 4B = 256K
>注意观察题干中是以**字**编址，还是按**半字**编址。 
>>一般而言：地址总线的宽度决定内存大小，数据总线的宽度决定字长

##第2章
* 浮点数的规格化表示
* 定点数的加减法运算

###设两浮点数的IEEE754标准存储格式分别为： 
x= 0 10000010 01101100000000000000000，y= 0 10000100 01011101100000000000000，求x+y，并给出结果的IEEE754标准存储格式。

>解：  
对于x：  
符号位S=0  
指数e=E-127=10000010 - 01111111=00000011=(3)`10`  
尾数m=1.M=1.01011101100000000000000=1.011011  
于是：x=(-1)^s * m * 2^e=+1.01011101100000000000000 * 2^3
同理y=+1.01011101100000000000000 * 2^5  
(1)对阶：  
△E=E`x`-E`y`=3-5=-2  
x=1.01011101100000000000000**00** * 2^5  
(2)尾数相加：  
x+y=1.10111000100000000000000 * 2^5
```
##第4章
* Cache-主存系统的平均访问时间及访问效率

##第5章
1. 设一个转速为15000r/min的磁盘，器平均寻道时间为4ms，每磁道500扇区，每扇区512B。
现欲从该磁盘上读取一个由2500个扇区组成的总长为1.28MB的文件：
  1. 若该文件随机分布在磁盘的不同扇区中，试计算读取该文件所需的总访问时间。
  2. 若该文件所占扇区均匀分布在同一柱面的5个磁道上，试计算读取该文件所需的总访问时间。
```
解：
  1. 
  转速：15000r/min   
  磁盘旋转一周的时间：60000ms/15000r = 4ms 
  平均旋转延时：4ms/2 = 2ms 
  磁盘传输速率：D = rN = 250r/s*（500*512）b/r   
  每扇区传送时间：t = 磁盘旋转一周的时间/扇区数 = 4ms/500 = 0.008  
  访问时间 = 平均寻道时间 + 平均旋转延时 + 传送时间 = 6.008ms  
  读取该文件的总访问时间 =  2500 * 6.008ms = 15.02s  
  
  2. 
  由于该文件分布在同一柱面的5个磁道上，所以只需要一次寻道时间，并且每个磁道上文件占用了2500/5=500扇区，即占满了整条磁道。  
  所以传送时间=磁盘旋转一周的时间4ms。  
  总访问时间 = 4ms + 5 * （2ms+4ms）=0.034s  
```
>即使是在同一柱面上的5个磁道，也不能同时读数据，一定要一条磁道一条磁道的读数据

##第7章
###某机执行一条指令平均需访存2次，每条指令平均需要3个CPU周期，每个CPU周期平均包含4个时钟周期。若计算机主频为25MHz，问：

1. 若主存为0等待（不需插入等待周期），问执行一条指令的平均时间为多少？  
2. 若每次访存需要插入两个等待周期，问执行一条指令的平均时间为多少？

>解：计算机主频为25MHz，所以时钟周期 = 1/25 us
>>1. CPU周期 = 4 * 时钟周期 = 4/25 us
指令周期 = 3 * CPU周期 = 12/25us = 0.48us （即平均时间）
平均速度 = 25/12 MIPS（也可以直接计算 25/（3*4））  
2. 平均执行一条指令需访问内存2次，且每次访存需插入2个等待周期  
指令周期 = 3*4*时钟周期 + 2*2*时钟周期 = 0.64us （即平均时间）
>这里的等待周期是等待节拍周期，即时钟周期